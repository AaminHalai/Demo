@model DemoAPI.ViewModels.DataModel
@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo</title>
    @*@Styles.Render("~/Content/css")*@
    @Scripts.Render("~/bundles/modernizr")
    <!-- Favicons -->
    <!-- Toaster-->
    <link href=@Url.Content("~/assets/plugins/bootstrap-toastr/toastr.min.css") rel="stylesheet" type="text/css" />
    <!-- Bootstrap core CSS -->
    <link href="@Url.Content("~/Content/lib/bootstrap/css/bootstrap.min.css")" rel="stylesheet">
    <!--external css-->
    <link href="@Url.Content("~/Content/lib/font-awesome/css/font-awesome.css")" rel="stylesheet" />

    <link href="@Url.Content("~/assets/plugins/jquery-ui/jquery-ui-1.10.3.custom.min.css")" rel="stylesheet" />
    <!-- Custom styles for this template -->
    <!-- datepiker -->

    <link href=@Url.Content("~/assets/plugins/bootstrap-datepicker/css/datepicker.css") rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href=@Url.Content("~/assets/plugins/bootstrap-timepicker/compiled/timepicker.css") />
    <link href=@Url.Content("~/assets/plugins/bootstrap-datetimepicker/css/datetimepicker.css") rel="stylesheet" />
    <link href=@Url.Content("~/assets/plugins/bootstrap-daterangepicker/daterangepicker-bs3.css") rel="stylesheet" />

    <link href="@Url.Content("~/Content/css/style.css")" rel="stylesheet">
    <link href="@Url.Content("~/Content/css/style-responsive.css")" rel="stylesheet">
    @*Data Table*@
    <link href="@Url.Content("~/Content/lib/datatable/css/dataTables.bootstrap4.min.css")" rel="stylesheet" />
    <link href="@Url.Content("~/Content/lib/datatable/css/responsive.bootstrap4.min.css")" rel="stylesheet" />
    <link href="@Url.Content("~/Content/Site.css")" rel="stylesheet">
    <script src=@Url.Content("~/assets/plugins/bootstrap-toastr/toastr.min.js") type="text/javascript"></script>
    <script src=@Url.Content("~/assets/scripts/ui-toastr.js") type="text/javascript"></script>
    <script src="@Url.Content("~/Content/lib/jquery/jquery.min.js")"></script>
    @Scripts.Render("~/Scripts/jquery-1.10.2.js")
    <script src=@Url.Content("~/Scripts/km-extensions.js")></script>
    <link href="@Url.Content("~/Content/dataTables.checkboxes.css")" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
</head>
<body>
    <section id="main-content" style="margin-left:0px">
        <section class="wrapper" style="padding-left:35px;padding-right:35px">
            <div class="row">
                <div class="col-md-12">
                    <div class="form-panel">
                        <div class="form-panel-title" data-target="#collapse2" data-toggle="collapse" style="cursor:pointer">
                            <div class="pnl-title-txt">
                                Upload File
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <div class="form-panel-body pb-0" id="collapse2">
                            @using (Html.BeginForm("UploadFile", "Home", System.Web.Mvc.FormMethod.Post, new { enctype = "multipart/form-data", @class = "form-horizontal form-label-left" }))
                            {
                                <div class="row">
                                    <div class="col-md-12">
                                        @{
                                            if (!string.IsNullOrEmpty(Convert.ToString(TempData["message"])))
                                            {
                                                <div class="alert alert-warning" id="Warningalert">
                                                    <label id="lblwarning">@TempData["message"]</label>
                                                </div>
                                            }
                                        }

                                        <div class="col-md-6">
                                            <input type="file" name="upload" class="clsfile" />
                                        </div>
                                        <div class="col-md-6">
                                            <input type="submit" id="btnupload" value="Upload File" class="form-control btn btn-success" />
                                        </div>
                                        
                                    </div>
                                </div>
                                            }
                            </div>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="form-panel">
                        <div class="form-panel-title" data-target="#collapse1" data-toggle="collapse" style="cursor:pointer">
                            <div class="pnl-title-txt">
                                Search
                            </div>
                            <div class="pull-right">
                                <button type="button" class="btn btn-sm btn-theme04" id="btnSearch"><i class="fa fa-search"></i> &nbsp; Search</button>
                                <button type="button" class="btn btn-sm btn-theme04" id="btnClear"><i class="fa fa-refresh"></i> &nbsp; Clear</button>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <div class="form-panel-body pb-0" id="collapse1">
                            <form class="form-horizontal">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                @Html.LabelFor(model => model.ProductId, htmlAttributes: new { @class = "control-label col-md-4" })
                                                <div class="col-md-8">
                                                    @Html.ListBoxFor(model => model.ProductIds, Model.ProductList, htmlAttributes: new { @class = "form-control", @style = "width:215px;" })
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                @Html.LabelFor(model => model.StartDate, htmlAttributes: new { @class = "control-label col-md-4" })
                                                <div class="col-md-8">
                                                    @Html.TextBoxFor(model => model.StartDate, htmlAttributes: new { @class = "form-control date-picker" })
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                @Html.LabelFor(model => model.EndDate, htmlAttributes: new { @class = "control-label col-md-4" })
                                                <div class="col-md-8">
                                                    @Html.TextBoxFor(model => model.EndDate, htmlAttributes: new { @class = "form-control date-picker" })
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="form-panel">
                        <div class="form-panel-title">
                            <div class="pnl-title-txt">
                                Order List
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <div class="form-panel-body">
                            <table id="tbl" class="table table-striped table-bordered dt-responsive" style="width:100%">
                                <thead>
                                    <tr>
                                        <th style="display:none;"></th>
                                        <th class="">
                                            Order No.
                                        </th>
                                        <th class="">
                                            Order Date
                                        </th>
                                        <th class="">
                                            Customer Name
                                        </th>
                                        <th class="">
                                           Product Name
                                        </th>
                                        <th class="">
                                            Price
                                        </th>
                                        <th class="">
                                            Quantity
                                        </th>
                                        <th class="">
                                            Payment Type
                                        </th>

                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <script type="text/javascript">
            $(document).ready(function () {
                $(".date-picker").datepicker({
                    dateFormat: 'dd-M-yy',
                    changeMonth: true,
                    changeYear: true
                });

                $("#Operation").addClass("active");
                $("#Operation").find("a").addClass("active");

                $('#tbl').dataTable({
                    "sPaginationType": "full_numbers",
                    "bProcessing": true,
                    "bServerSide": true,
                    "searching": false,
                    "ordering": true,
                    "bInfo": true,
                    "bAutoWidth": false,
                    "bLengthChange": true,
                    "iDisplayLength": 100,
                    "aaSorting": [[0, 'desc']],
                    "oLanguage": {
                        //"sProcessing": "<img src='" + imageurl + "' />",
                        "sEmptyTable": "No Record Found"
                    },
                    "columnDefs": [{
                        "defaultContent": " ",
                        "targets": "_all"
                    }],
                    ajax: {
                        url: '@Url.Action("GetOrderList", "Home")',
                        type: "POST",
                        async: false,
                        data: function (d) {
                            d.productids = $('#ProductIds').val(),
                                d.startdate = $('#StartDate').val(),
                                d.enddate = $('#EndDate').val()
                        }
                    },
                    "columns": [
                        { "data": "id", "visible": false },
                        { "data": "orderid", className: "centered", "orderable": true, "searchable": true },
                        { "data": "orderdate", className: "centered", "orderable": true, "searchable": true },
                        { "data": "customername", className: "centered", "orderable": true, "searchable": true },
                        { "data": "productname", className: "centered", "orderable": true, "searchable": true },
                        { "data": "price", className: "centered", "orderable": false, "searchable": true },
                        { "data": "quantity", className: "centered", "orderable": false, "searchable": true },
                        { "data": "paymenttype", className: "centered", "orderable": false, "searchable": true },
                    ]
                });

    $('#btnSearch').click(function () {
        $('#tbl').DataTable().ajax.reload();
    });



            $('#btnClear').click(function () {
                $('#ProductIds').val('');
                $('#StartDate').val('');
                $('#EndDate').val('');
                $('#tbl').DataTable().ajax.reload();
            });

        </script>

    </section>


    <script src="@Url.Content("~/Content/lib/bootstrap/js/bootstrap.min.js")"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.js")"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.js")"></script>
    <script src="@Url.Content("~/Content/lib/navigation/nav.accordion.js")"></script>
    <script class="include" type="text/javascript" src="@Url.Content("~/Content/lib/jquery.dcjqaccordion.2.7.js")"></script>
    <script src="@Url.Content("~/Content/lib/jquery.scrollTo.min.js")"></script>
    <script src="@Url.Content("~/Content/lib/jquery.nicescroll.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Content/lib/jquery.sparkline.js")"></script>
    <!--common script for all pages-->
    <script src="@Url.Content("~/Content/lib/common-scripts.js")"></script>
    @*<script type="text/javascript" src="@Url.Content("~/Content/lib/gritter/js/jquery.gritter.js")"></script>
        <script type="text/javascript" src="@Url.Content("~/Content/lib/gritter-conf.js")"></script>*@
    <script src="@Url.Content("~/Content/lib/jquery-ui-1.9.2.custom.min.js")"></script>
    @*datepiker*@

    <script type="text/javascript" src="@Url.Content("~/Content/lib/moment.js")"></script>
    <script src=@Url.Content("~/assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js")></script>
    <script src=@Url.Content("~/assets/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js")></script>
    <script src=@Url.Content("~/assets/plugins/bootstrap-daterangepicker/daterangepicker.js")></script>
    <script src=@Url.Content("~/assets/plugins/bootstrap-timepicker/js/bootstrap-timepicker.js") type="text/javascript"></script>
    <script src=@Url.Content("~/assets/plugins/bootstrap-daterangepicker/moment.min.js")></script>
    <script src=@Url.Content("~/assets/plugins/bootstrap-toastr/toastr.min.js") type="text/javascript"></script>

    @* Data table *@
    <script src="@Url.Content("~/Content/lib/datatable/js/jquery.dataTables.min.js")"></script>
    <script src="@Url.Content("~/Content/lib/datatable/js/dataTables.bootstrap4.min.js")"></script>
    <script src="@Url.Content("~/Content/lib/datatable/js/dataTables.responsive.min.js")"></script>
    <script src="@Url.Content("~/Content/lib/datatable/js/dataTables.checkboxes.min.js")"></script>
    <script src="@Url.Content("~/Content/lib/datatable/js/responsive.bootstrap4.min.js")"></script>
    <script src=@Url.Content("~/assets/plugins/bootstrap-toastr/toastr.min.js") type="text/javascript"></script>

    @Scripts.Render("~/bundles/bootstrap")
</body>
</html>
